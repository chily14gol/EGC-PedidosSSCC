@using PedidosSSCC.Properties;
@{
    ViewBag.Title = "Inicio";
}

<div class="container-fluid" id="mensaje-bienvenida" style="display: none;">
    <div class="content-box">
        <div class="d-flex flex-column justify-content-center align-items-center" style="height: 50vh;">
            <div class="logo-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="127" height="29" class="logo-brillante"><path fill="#1d1d1b" fill-rule="evenodd" d="M37.24 8.04c.4 1.2.52 2.59.52 3.53v6.84c0 1.78-.27 2.77-.52 3.59h7.32l1.02-2.33c-2.95 1-3.94 1-5.73 1v-5.1c1.06.08 1.58.16 3.18.62l1.2-1.95h-4.38V9.36a7.25 7.25 0 0 1 3.85.84l1.07-2.16h-7.53Zm11.2 10.35c0 1.2-.07 2.23-.37 3.61h2.83a9.69 9.69 0 0 1-.39-3.02v-3.44c2.89 3.84 3.74 4.84 5.62 6.46h1.92c-1.66-2-3.37-4.06-4.62-6.25.64-.34 2.65-1.46 2.65-3.73 0-1.88-1.7-4.04-5.29-3.98l-2.72.04c.15.48.38 1.24.38 2.88v7.43Zm2.07-9.16c2.8.28 3.44 1.95 3.44 3 0 2.14-2.12 2.73-3.44 3.1v-6.1ZM60.47 8c.22.63.54 1.6.54 3.6v6.8c0 2.1-.3 2.95-.54 3.6h3.16c-.24-.82-.52-1.68-.52-3.9v-2.3h5.98v2.46c0 2.23-.25 2.88-.54 3.74h3.18c-.3-.82-.54-1.5-.54-3.82v-6.46c0-2.14.22-2.8.54-3.72h-3.19c.25.75.54 1.64.54 3.56v2.47h-5.97V11.2c0-1.77.32-2.55.56-3.2h-3.2Zm21.08-.02h-.11l-5.38 10.69c-1.15 2.29-1.56 2.79-2.03 3.33h3.4a6.4 6.4 0 0 1 .71-2.83l.71-1.5h4.9l.82 1.87c.5 1.14.57 1.84.57 2.46l3.32-.04c-.52-.7-1.18-1.6-2.18-3.78l-4.73-10.2Zm-.15 4.3 1.62 3.74h-3.38l1.76-3.74Zm9.9 6.11c0 1.2-.07 2.23-.37 3.61h2.83a9.69 9.69 0 0 1-.4-3.02v-3.44c2.9 3.84 3.75 4.84 5.63 6.46h1.92c-1.66-2-3.37-4.06-4.62-6.25.63-.34 2.65-1.46 2.65-3.73 0-1.88-1.7-4.04-5.3-3.98l-2.7.04c.14.48.36 1.24.36 2.88v7.43Zm2.07-9.16c2.8.28 3.44 1.95 3.44 3 0 2.14-2.12 2.73-3.44 3.1v-6.1Zm10.34 8.52c0 2.57-.26 3.37-.55 4.25h3.37c4.48 0 7.26-3.22 7.26-6.85 0-1.36-.38-2.85-1.4-4.17-2.12-2.72-5.21-2.96-7.78-2.96-.62 0-.97.04-1.45.07.16.66.55 1.83.55 3.76v5.9Zm2.09-5.88c0-.69 0-1.7.11-2.55 4.43.61 5.42 3.69 5.42 5.64 0 2.2-1.27 5.27-5.42 5.68-.11-1.12-.11-1.64-.11-3.22v-5.55Zm10.44-3.81-.75 2.34c2.7-.97 3.52-.97 4.45-.95v9c0 1.65-.19 2.68-.39 3.55h2.85c-.3-1.08-.4-2.21-.4-3.33V9.45c1.63 0 2.13.13 3.66.75l.96-2.14h-10.38Z" /><path fill="#bd2b30" d="m15.05 23.81 4.6-2.66-.08 5.05-4.52 2.62v-5.01Zm.06-10.54 4.72-2.28c.02 0-.12 6.15-.12 6.15l-4.6 2.4v-6.27Zm7.69 6.06 4.05-2.36-.34 5.25-3.93 2.2.22-5.09Zm.14-3.76.25-6.18 4.27-2.04-.38 6.09-4.14 2.13ZM20.81 3.55l4.57 1.83-3.84 1.85-4.77-2.04 4.04-1.64Zm-7.08 3.01 4.8 2.14-4.8 2.35-4.8-2.35 4.8-2.14ZM12.4 23.81v5.01L7.89 26.2l-.08-5.05 4.6 2.66Zm-.06-10.54v6.26l-4.6-2.4S7.6 11 7.62 11l4.72 2.28Zm-7.69 6.06.22 5.1-3.93-2.21-.34-5.25 4.05 2.36Zm-.14-3.76L.38 13.44 0 7.34 4.27 9.4l.25 6.17ZM6.65 3.54l4.03 1.65-4.76 2.04-3.84-1.85 4.57-1.84Zm7.08.38L9.8 2.27 13.73.7l3.93 1.58-3.93 1.65Z" /></svg>
            </div>
            <h1 class="h3 mt-3 text-center">
                Bienvenido a Pedidos de venta SSCC. Web en desarrollo
            </h1>
        </div>
    </div>
</div>
<div class="container-fluid" id="div-tablaConceptos" style="display: none !important;">
    <div class="section-title-wrapper">
        <h2 class="section-title h1">Conceptos de facturación pendientes de aprobar</h2>
    </div>
    <div id="toolbar-top" class="btn-group-wrapper d-flex justify-content-end gap-2 mb-3">
        <button id="btnAprobar" class="btn btn-primary">Aprobar</button>
        <button id="btnRechazar" class="btn btn-secondary">Rechazar</button>
    </div>
    <div class="content-box">
        <form class="table-filter">
            <div class="form-default">
                <div class="buscador">
                    <input type="text" class="form-control" id="formBuscar" placeholder="@Resources.Placeholder_Buscar">
                </div>
            </div>
            <div class="form-advance">
                <div class="row">
                    <div class="col-sm-7 col-md-5 col-xxl-3">
                        <div class="form-group">
                            <label class="form-label" for="filterTarea">Tarea</label>
                            <input type="text" id="filterTarea" class="form-control">
                        </div>
                    </div>
                    <div class="col-sm-5 col-md-4 col-xxl-2">
                        <div class="form-group">
                            <label class="form-label" for="filterEmpresa">Empresa</label>
                            <input type="text" id="filterEmpresa" class="form-control">
                        </div>
                    </div>
                    <div class="col-sm-3 col-md-3 col-xxl-2">
                        <div class="form-group">
                            <label class="form-label" for="filterCantidad">Cantidad</label>
                            <input type="text" id="filterCantidad" class="form-control">
                        </div>
                    </div>
                    <div class="col-sm-4 col-md-3 col-xxl-1">
                        <div class="form-group">
                            <label class="form-label" for="filterImporte">Importe</label>
                            <input type="text" id="filterImporte" class="form-control" oninput="validarImporte(this)">
                        </div>
                    </div>
                    <div class="col-sm-5 col-xxl-3">
                        <div class="form-group">
                            <label class="form-label" for="filterDescripcion">Descripcion</label>
                            <input type="text" id="filterDescripcion" class="form-control">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-btn-group">
                <button type="button" id="btnBuscar" class="btn btn-primary">@Resources.Boton_Buscar</button>
                <button type="button" id="btnLimpiar" class="btn btn-outline-secondary" style="display: none;">@Resources.Boton_Limpiar</button>
                <button type="button" id="btnAvanzado" class="btn btn-link">@Resources.Boton_BusquedaAvanzada</button>
            </div>
        </form>
        <table id="tablaConceptosPendientes" class="table table-striped nowrap" style="width:100%;">
            <thead>
                <tr>
                    <th><input type="checkbox" id="selectAll" class="form-check-input"></th>
                    <th data-priority="1">Tarea</th>
                    <th>@Resources.Etiqueta_Empresa</th>
                    <th>Cantidad</th>
                    <th>Importe</th>
                    <th>@Resources.Etiqueta_Descripcion</th>
                    <th data-priority="2"><span class="sReader">Acción</span></th>
                </tr>
            </thead>
        </table>
    </div>
    <div id="toolbar-bottom" class="btn-group-wrapper d-flex justify-content-end gap-2 mt-3">
        <button id="btnAprobar2" class="btn btn-primary">Aprobar</button>
        <button id="btnRechazar2" class="btn btn-secondary">Rechazar</button>
    </div>
</div>

<!-- Modal de Ver -->
<div class="modal fade" id="modalEditar" tabindex="-1" aria-labelledby="modalEditarLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title h4" id="modalEditarLabel">@Resources.Modal_ConceptosPendientes</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
                <form class="form-wrapper">
                    <input type="hidden" id="idConcepto" />

                    <div class="row">
                        <!-- Solicitante -->
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="solicitante" class="form-label">Solicitante</label>
                                <input type="text" class="form-control" id="solicitante" disabled />
                            </div>
                        </div>

                        <!-- Fecha solicitud -->
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="fechaSolicitud" class="form-label">Fecha solicitud</label>
                                <input type="text" class="form-control" id="fechaSolicitud" disabled />
                            </div>
                        </div>

                        <!-- Comentarios (ocupa ancho completo) -->
                        <div class="col-12">
                            <div class="form-group">
                                <label for="comentarios" class="form-label">Comentarios</label>
                                <input type="text" class="form-control" id="comentarios" />
                            </div>
                        </div>

                        <hr />

                        <!-- Tarea - Empresa (ocupa ancho completo) -->
                        <div class="col-12">
                            <div class="form-group">
                                <label for="tareaEmpresa" class="form-label">@Resources.Etiqueta_TareaEmpresa</label>
                                <input type="text" class="form-control" id="tareaEmpresa" disabled />
                            </div>
                        </div>

                        <!-- FILA: Cantidad / Importe unitario / Importe total -->
                        <div class="col-sm-4 filaImporteYCantidad">
                            <div class="form-group">
                                <label for="importeUnitarioModal" class="form-label">Importe unitario</label>
                                <input type="text" class="form-control" id="importeUnitarioModal" disabled />
                            </div>
                        </div>
                        <div class="col-sm-4 filaImporteYCantidad">
                            <div class="form-group">
                                <label for="cantidadModal" class="form-label">@Resources.Etiqueta_Cantidad</label>
                                <input type="text" class="form-control" id="cantidadModal" disabled />
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="importeTotalModal" class="form-label">Importe total</label>
                                <input type="text" class="form-control" id="importeTotalModal" disabled />
                            </div>
                        </div>

                        <!-- Descripción (ocupa ancho completo) -->
                        <div class="col-12">
                            <div class="form-group">
                                <label for="descripcionModal" class="form-label">@Resources.Etiqueta_Descripcion</label>
                                <input type="text" class="form-control" id="descripcionModal" disabled />
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer btn-group-modal">
                <button id="btnAprobarIndividual" class="btn btn-primary">Aprobar</button>
                <button id="btnRechazarIndividual" class="btn btn-secondary">Rechazar</button>
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">@Resources.Modal_Boton_Cancelar</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        window.AppConfig = Object.assign({}, window.AppConfig, {
            urls: {
                ObtenerConceptoDetalle: '@Url.Action("ObtenerConceptoDetalle", "Portal")',
                ObtenerConceptosPendienteAprobacion: '@Url.Action("ObtenerConceptosPendienteAprobacion", "Portal")',
                ObtenerTareas: '@Url.Action("ObtenerTareas", "Portal")',
                ObtenerConceptosFacturacion: '@Url.Action("ObtenerConceptosFacturacion", "Portal")',
                ObtenerPedidos: '@Url.Action("ObtenerPedidos", "Portal")',
                AprobarRechazarConceptos: '@Url.Action("AprobarRechazarConceptos", "Portal")'
            }
        });
    </script>
    <script src="~/Scripts/Vistas/Portal/Inicio.js?v=@DateTime.Now.Ticks"></script>
}